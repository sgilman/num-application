<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Smart Cities Woot Woot</title>
		
		<!-- Bootstrap core CSS -->
		<link rel="stylesheet" href="css/bootstrap.min.css">
		
		<style>
			body {
				font-color: #47334E;
				background-color: #A2AFBF;
			}
			
			h2 {
				color: #fff;
				background-color: #357591;
				padding: 2px 0 2px 50px;
			}
			p {
				font-size: 16px;
			}

			.caption {
				font-style: italic;
				font-size: 10px;
				text-align: left;
			}
			
			img {
				padding: 0 50px 10px 50px;
			}
			
			svg {
				min-height: 200px;
				margins: 15px;
			}

			.container {
				background-color: #fff;
			}
			
			.row {
				padding: 0 10% 0 10%;
			}
			
			.dropdown {
				display: inline-block;	
			}
			
			.d3plus-Pie {
				margin: 100px;
			}

			footer {
				color: white;
				text-align: center;
				width: 100%;
				font-size: 10px;	
				margin: 20px 0 5px 0;
			}
			
			footer a {
				color: white;
				text-decoration: underline;}
				

		</style>
		
	</head>
	<body>

	
		<div class="container">
			<div class="row">
				<h1>A smart city is...</h1>
			</div>
			<div class="row">
				<div class="col-12">
					<h2>... a network</h2>
				</div>

				<div class="col-md-8">
					<p>With the proliferation of smart phones, sensors, storage capacity, and computing power, the amount of information that circulates is growing exponentially. We are exponentially more connected than we were just 10 years ago, which provides opportunities to make personal and societal decisions more quickly and efficiently than ever before.
					However, internet connectivity is unevenly distributed among racial, education, and income groups, as are the benefits and risks of smart city initiatives.</p>
				</div>
				<div class="col-md-4" style="text-align:center">
					Broadband access by
						<div class="dropdown" style="display:inline-block;">
						  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							income
						  </button>
						  <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
								<li data="race" text="race"><a class="dropdown-item"  href="#">race</a></li>
								<li data ="income" text="income"><a class="dropdown-item"  href="#">income</a></li>
								<li data = "education" text="education level"><a class="dropdown-item" href="#">education level</a></li>
							</ul>
						 </div>
					in 2016
				<div>
					<svg id="broadband"></svg>
					<p class="caption">Data source: Pew Research Center, <a href="http://www.pewinternet.org/fact-sheet/internet-broadband/">Internet/Broadband Fact Sheet</a></p>
				</div>
				</div>
			</div>
			<div class="row">
				<div class="col-12">
					<h2>...a partnership</h2>
				</div>
				<div class="col-xs-12 col-md-8 order-md-2">
					<p>Most smart cities initiatives involve public-private partnerships in various forms. In several respects, these partnerships are complementary: they bring a wider set of skills and funding sources to smart city initiatives. However, they also introduce some tensions, since private enterprises and municipal governments serve different populations (customers vs. citizens) and have different end goals (profit vs. social good).
					</p>
				</div>
				<div class="col-xs-12 col-md-4 order-md-1" style="text-align:center;" height="100%">
					<span style="text-align:center;">Who implements smart city projects?</span>
					<svg id="partnership" widtth="100%" height="300px"></svg>
					<p class="caption">Data source: Lisa Brown, "Delivering the Promise of Smart Cities through Urban Efficiency Outcomes", presented at the 2nd Annual Smart Cities Sympoisum (Jan 17-18, 2018), Chicago, IL</p>
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<h2>...a new means, but not a new end</h2>
					<p>If we’re asking the question <em>how should we do x?</em>, “Smart city” is a great answer. But if it becomes an answer to <em>What should we do?</em>, smart cities may hide the values we hold.</p>
				</div>
			</div>
			<div class="row">
				<div class="col-xs-12 col-md-8 order-md-1">
					<img src="img/me.jpg" width="100%"></img>
					<p class="caption">An embarassing but illustrative photograph of the author using a gender recognition sensor at the MIT Museum, Dec 13, 2017</p>
				</div>
				<div class="col-xs-12 col-md-4 order-md-2">
					<p>For example, I was recently misgendered by a facial recognition sensor at the MIT Museum. As a cisgender man, I was able to laugh it off and got a funny Instagram story out of this encounter. For transgender, nonbinary, or other gender non-conforming individuals, however, this is dangerous. By reinforcing gender as an extrinsic characteristic, based on an individual’s anatomy and appearance, it excludes those whose intrinsic identity does not match our appearance expectations.</p>	
				</div>

			</div>
			<div class="row">
				<div class="col-xs-12 col-md-4">
					 <p>While such a technology has clear benefits for marketing, security, and other applications, it also could further enable the policing of spaces such as bathrooms based on an extrinsic notion of gender identity, which would contribute to the increasing discrimination and violence that gender non-conforming individuals face. Sensors, algorithms, and datasets are not good for their own sake, but rather for the ends that they serve. Instead of striving to create a smart city, we should strive to use smart tools to create a prosperous, sustainable, and just city.</p>
				</div>
				<div class="col-xs-12 col-md-8">
					<svg id="homicide" width=600 height=300></svg>
					<p class="caption">Data sources: <a href="http://transrespect.org/en/map/trans-murder-monitoring/">Trans Murder Monitoring Project</a> (2008-2016), <a href="https://www.hrc.org/resources/violence-against-the-transgender-community-in-2017">Human Rights Campaign (2017)</a></p>
				</div>
				<hr>
			</div>
		</div>
		<footer>&copy; Scott Gilman, 2017. Designed with <a href="http://getbootstrap.com">Boostrap</a> and <a href="http://d3plus.org">D3plus</a>.</footer>


	<script src="js/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/d3plus.v2.js"></script>

	<script>
	/** broadband bar chart **/
	
	  var broadband_data = 
		{race: [
			{"id": "White", "text":"White", x:1, y: 78, color: "#47334E"},
			{"id": "Black", "text":"Black", x:2, y: 65, color: "#D7084E"},
			{"id": "Hispanic", "text":"Hispanic", x:3, y: 58, color: "#FF9C24"}
		],
		income: [
			{"id": "<$30k", "text": "Less than $30k", x:1, y: 53, color: "#47334E"},
			{"id":"$30-40k", "text": "$30-40k", x:2, y: 71, color: "#D7084E"},
			{"id":"$50-74k", "text": "$50-74k", x:3, y: 83, color: "#927379"},
			{"id": ">$75k", "text": "More than $75k", x:4, y: 93, color: "#FF9C24"}
		],
		education: [
			{"id": "Less than high school", "text": "Less than high school", x:1, y: 34, color: "#47334E"},
			{"id": "High school", "text": "High school", x:2,  y: 62, color: "#D7084E" },
			{"id": "Some college", "text": "Some college", x:3,  y: 80, color: "#927379"},
			{"id": "College", "text": "College", x:4, y: 91, color: "#FF9C24"}
		]};
	
	var barChart = new d3plus.BarChart()
		.select('#broadband')
		.data(broadband_data.income)
		.barPadding(0)
		.legend(false)
		.shapeConfig({
			fill: function(d) {return d.color;}
			})
		.xConfig(
			{title: false,
			labels: [],
			ticks: []
			})
		.yConfig(
			{title: "% of households with broadband access"}
			)
		.yDomain([0,100])
		 .tooltipConfig({
			body: function(d) {
			  var table = "<table class='tooltip-table'>";
			  table += "<tr><td class='title'>Broadband access:</td><td class='data'>" + d.y + "%</td></tr>";
			  table += "</table>";
			  return table;
			},
			title: function(d) {
			  return d.id;
			}
		  })
		.render();

		$('.dropdown-menu > li').on('click', function () {
			$('#dropdownMenuButton').text($(this).attr('text'));
			barChart.data(broadband_data[$(this).attr('data')]).render();
		});

	/** partnerships pie chart **/

	var partnershipData = [{id: 'internal staff', value: 27, color: '#47334E'},
					{id: 'technology partners/contractors/managed service providers', value: 47, color: '#D7084E'},
					{id: 'equal involvement of both internal staff and contractors', value: 24, color: '#FF9C24'}];

	  let pie = new d3plus.Pie()
		.groupBy(["id"])
		.select("#partnership")
		.data(partnershipData)
		.shapeConfig({
			fill: function(d) {return d.color;}
			})
		.innerRadius(50)
		.sort(function comparator(a,b) {
			return 1/b.value - 1/a.value;
				})
		.tooltipConfig({
			body: function(d) {
			  return d.value + "%";
			  return d.value + "%";
			},
			title: function(d) {
			  return d.id;
			}
		  })
		.render();


	/** trans homicide line chart **/
	
		var homicideData = [
		 {
		   "id": "US",
		   "x": 2009,
		   "y": 14
		 },
		 {
		   "id": "US",
		   "x": 2010,
		   "y": 9
		 },
		 {
		   "id": "US",
		   "x": 2011,
		   "y": 17
		 },
		 {
		   "id": "US",
		   "x": 2012,
		   "y": 16
		 },
		 {
		   "id": "US",
		   "x": 2013,
		   "y": 22
		 },
		 {
		   "id": "US",
		   "x": 2014,
		   "y": 14
		 },
		 {
		   "id": "US",
		   "x": 2015,
		   "y": 22
		 },
		 {
		   "id": "US",
		   "x": 2016,
		   "y": 23
		 },
		 {
		   "id": "US",
		   "x": 2017,
		   "y": 28
		 },
/**
		 {
		   "id": "World",
		   "x": 2009,
		   "y": 207
		 },
		 {
		   "id": "World",
		   "x": 2010,
		   "y": 223
		 },
		 {
		   "id": "World",
		   "x": 2011,
		   "y": 251
		 },
		 {
		   "id": "World",
		   "x": 2012,
		   "y": 292
		 },
		 {
		   "id": "World",
		   "x": 2013,
		   "y": 246
		 },
		 {
		   "id": "World",
		   "x": 2014,
		   "y": 278
		 },
		 {
		   "id": "World",
		   "x": 2015,
		   "y": 245
		 }
**/
		];
/**		
		var bottom = new d3plus.AxisBottom()
		  .select("#my-axis")
		  .domain([0, 10])
		  .width(600)
		  .height(300)
		  .render();
**/		

		new d3plus.LinePlot()
			.select("#homicide")
			.title("Known trans* homicides in the US, 2009-2017")
			.titleConfig({"style": "bold", "font-size": 24})
			.data(homicideData)
			.groupBy("id")
			.xConfig({title: false})
			.yConfig({title: "# trans* homicides"})
			.yDomain([0])
			.shapeConfig(
				{Line :
					{stroke: "#FF9C24",
					strokeWidth: 3}
				})
		 .tooltipConfig({
			body: function(d) {
			  var table = "<table class='tooltip-table'>";
			  table += "<tr><td class='title'>Known trans* homicides:</td><td class='data'>" + d.y + "</td></tr>";
			  table += "</table>";
			  return table;
			},
			title: function(d) {
			  return d.x;
			}
		  })
			.render();

	</script>
	</body>
	</html>